<!DOCTYPE html>
<html>

<head>
  <title>Credits</title>
  <meta name="description" content="IMD 3901 Term Project">
  <script src="js/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
  <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r134/examples/js/deprecated/Geometry.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src="js/replace.js"></script>
  <script src="js/end-transition.js"></script>
  <link rel="stylesheet" href="css/main.css">
</head>

<body>
  <a-scene id="scene" fog="type: linear; color: #01081c; far: 120; near: 0" inspector-plugin-recast loading-screen="enabled: false">

    <a-assets>
      <!-- images -->
      <img id="water" src="assets/water/water.png"/>
      <img id="water-displacement" src="assets/water/displacement.jpg"/>
      <!-- models -->
      <a-asset-item id="terrain_model" response-type="arraybuffer" src="assets/gltfs/canoeTerrain.gltf"></a-asset-item>
      <a-asset-item id="terrain_navmesh" src="assets/navmeshes/canoe-pre-contact.gltf"></a-asset-item>
      <a-asset-item id="canoe_model" src="assets/gltfs/canoe.gltf"></a-asset-item>
      <!-- audio -->
      <audio id="river_ambience" src="assets/sounds/river_noise.mp3" preload="auto" crossorigin="anonymous"></audio>
    </a-assets>

    <!-- credits -->
    <a-entity id="player" position="28 40 -30" rotation="-90 0 90" movement-controls="speed: 0.7; constrainToNavMesh: true;">
      <a-entity id="credits" position="0 -50 0"  animation__flow="property: position; to: 0 100 0; dur: 20000; easing: linear; delay: 2000;">
      <a-text id="text-1" value="CREATED BY THE FANTASTIC 4" align="center" position="0 22 -30" scale="5 5 5"></a-text> 
      <a-text id="text-2" value="PROJECT MANAGER" align="center" position="0 18 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-3" value="Avery Smith" align="center" position="0 16 -30" scale="4 4 4"></a-text> 
      <a-text id="text-4" value="GAMEPLAY PROGRAMMER (CANOE)" align="center" position="0 14 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-5" value="Ethan McIntryre" align="center" position="0 12 -30" scale="4 4 4"></a-text> 
      <a-text id="text-6" value="GAMEPLAY PROGRAMMER (LAND)" align="center" position="0 10 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-7" value="Nabeeha Ali" align="center" position="0 8 -30" scale="4 4 4"></a-text> 
      <a-text id="text-8" value="ANIMATION PROGRAMMER" align="center" position="0 6 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-9" value="Nabeeha Ali" align="center" position="0 4 -30" scale="4 4 4"></a-text> 
      <a-text id="text-10" value="Ethan McIntryre" align="center" position="0 2 -30" scale="4 4 4"></a-text> 
      <a-text id="text-11" value="AUDIO PROGRAMMER" align="center" position="0 0 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-12" value="Nabeeha Ali" align="center" position="0 -2 -30" scale="4 4 4"></a-text> 
      <a-text id="text-13" value="LEVEL DESIGNER" align="center" position="0 -4 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-14" value="Nabeeha Ali" align="center" position="0 -6 -30" scale="4 4 4"></a-text> 
      <a-text id="text-15" value="Ethan McIntryre" align="center" position="0 -8 -30" scale="4 4 4"></a-text> 
      <a-text id="text-16" value="Avery Smith" align="center" position="0 -10 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Amy Truong" align="center" position="0 -12 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="UI DESIGNER" align="center" position="0 -14 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-17" value="Amy Truong" align="center" position="0 -16 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Avery Smith" align="center" position="0 -18 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Nabeeha Ali" align="center" position="0 -20 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="3D ENVIRONMENT ARTIST" align="center" position="0 -22 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-17" value="Avery Smith" align="center" position="0 -24 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Amy Truong" align="center" position="0 -26 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="3D PROP ARTIST" align="center" position="0 -28 -30" scale="4 4 4" color="#e0ac42"></a-text>
      <a-text id="text-17" value="Amy Truong" align="center" position="0 -30 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Avery Smith" align="center" position="0 -32 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="CONCEPT ARTIST" align="center" position="0 -34 -30" scale="4 4 4" color="#e0ac42"></a-text>  
      <a-text id="text-17" value="Amy Truong" align="center" position="0 -36 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Avery Smith" align="center" position="0 -38 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="2D ILLUSTRATOR" align="center" position="0 -40 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-17" value="Amy Truong" align="center" position="0 -42 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="TRANSLATION" align="center" position="0 -44 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-17" value="Iohahi:io students" align="center" position="0 -46 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="MUSIC/AUDIO" align="center" position="0 -48 -30" scale="4 4 4" color="#e0ac42"></a-text> 
      <a-text id="text-17" value="Iohahi:io students" align="center" position="0 -50 -30" scale="4 4 4"></a-text> 
      <a-text id="text-17" value="Thank you to the Iohahi:io students for giving us the chance to bring your ideas to life!" wrap-count="30" align="center" position="0 -54 -30" scale="4 4 4"></a-text> 
      </a-entity>

      <a-entity id="camera" sound__river="src: #river_ambience; autoplay: true; loop:true; volume: 1;" camera position="0 1.6 0" animation__move="property: position; to: 0 0 -30; dur: 4000; easing: linear; delay:18000;" animation__rotate="property: rotation; to: 140 0 0; dur: 4000; easing: linear; delay:18000;">
          <!-- entering scene transition -->
          <a-entity id="fade-in" position="0 0 -0.1" geometry="primitive: circle; radius: 5" material="color: #000; opacity: 0; shader: flat" visible="true" animation__fadein="property: material.opacity; from: 1; to: 0; dur:5000; easing:linear;"></a-entity>
          <a-entity id="fade-out" position="0 0 -0.1" geometry="primitive: circle; radius: 5" material="color: #000; opacity: 0; shader: flat" visible="true" animation__fadeout="property: material.opacity; from: 0; to: 1; dur:5000; easing:linear; delay:18000" end-scene></a-entity>
      </a-entity>
    </a-entity>

    <!-- canoe -->
    <a-entity id="canoe" position="70 -1.5 -30" rotation="0 90 0" class="interactive" animation__move="property: position; to: -20 1.5 -30; dur: 18000; easing:linear; " gltf-model="#canoe_model" ></a-entity>

    <!-- terrain -->
    <a-entity id="terrain" position="0 0 -30">
      <a-entity gltf-model="#terrain_navmesh" nav-mesh position="0 -0.1 30" visible="false"></a-entity>
      <a-entity position="0 -2.5 0" rotation="0 90 0" gltf-model="#terrain_model"></a-entity>
      <a-entity position="0 -2.5 0" rotation="0 270 0" gltf-model="#terrain_model"></a-entity>
      <a-entity position="0 98 0">
        <a-entity class="ambient-sounds" sound="src: #river_sound; autoplay: true; loop: true;"></a-entity>
        <a-plane position="0 0.3 0" rotation="-90 0 90" scale="1000 1000 1000" 
          material="src: #water; color: #2eaaaa; offset: 0 0; repeat: 600 600; side: double; transparent: true; opacity: 0.7;"
          displacement-map="#water-displacement"
          displacement-bias="-0.1"
          displacement-scale="0.0009"
          displacement-texture-repeat="600 600"
          segments-height="400"
          segments-width="400"
          replace
          animation="property: components.material.material.map.offset.x; from: 0; to: 1; loop: true; dur: 20000; easing: linear;"
          animation__2="property: components.material.material.map.offset.y; from: 0; to: 1; loop: true; dur: 50000; easing: linear;"
          animation="property: material.offset.x; from: 0; to: 1; loop: true; dur: 50000; easing: linear;"
        >
        </a-plane>
        <a-plane position="0 0 0" rotation="-90 0 90" scale="1000 1000 1000" 
          material="src: #water; color: #2eaaaa; offset: 0 0; repeat: 600 600; side: double;"
          displacement-map="#water-displacement"
          displacement-bias="-0.1"
          displacement-scale="0.0004"
          displacement-texture-repeat="600 600"
          segments-height="400"
          segments-width="400"
          replace
          animation="property: components.material.material.map.offset.x; from: 0; to: -1; loop: true; dur: 60000; easing: linear;"
          animation__2="property: components.material.material.map.offset.y; from: 0; to: -1; loop: true; dur: 20000; easing: linear;"
          >
        </a-plane>
      </a-entity>
    </a-entity>

    <!-- remaking the sky from environment component -->
    <a-sky radius="200" theta-length="110" class="environment" material="shader: gradientshader; topColor: #01081c; bottomColor: #012133" visible="" geometry=""></a-sky>
  </a-scene>
</body>

</html>